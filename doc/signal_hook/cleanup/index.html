<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `cleanup` mod in crate `signal_hook`."><meta name="keywords" content="rust, rustlang, rust-lang, cleanup"><title>signal_hook::cleanup - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../signal_hook/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Module cleanup</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#functions">Functions</a></li></ul></div><p class='location'><a href='../index.html'>signal_hook</a></p><script>window.sidebarCurrent = {name: 'cleanup', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/signal_hook/cleanup.rs.html#1-203' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../index.html'>signal_hook</a>::<wbr><a class="mod" href=''>cleanup</a></span></h1><div class='docblock'><p>Cleaning up signals.</p>
<p>The routines in this module allow resetting the signals of an application back to defaults.
This is intended for the following situation:</p>
<ul>
<li>A terminal signal (eg. a <code>SIGTERM</code>, <code>SIGINT</code> or something similar) is received.</li>
<li>The application resets the signal handlers to defaults.</li>
<li>The application proceeds to perform some kind of shutdown (saving data, cleaning up, ...).</li>
<li>If another such signal is received, the application is terminated right away the hard way,
without finishing the shutdown.</li>
</ul>
<p>The alternative of leaving the original signals in place might be problematic in case the
shutdown takes a long time or when it gets stuck. In such case the application would appear to
ignore the signal and just refuse to die.</p>
<p>There are two ways to perform the reset:</p>
<ul>
<li>Registering the reset as part of the signal handlers. This is more reliable (even in case the
application is already stuck in some kind of infinite loop, it would still work). This is
done by <a href="../../signal_hook/cleanup/fn.register.html" title="register">register</a>.</li>
<li>Manually resetting the handlers just before the shutdown. This is done with <a href="../../signal_hook/cleanup/fn.cleanup_signal.html" title="cleanup_signal">cleanup_signal</a>.</li>
</ul>
</div><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table><tr class='module-item'><td><a class="fn" href="fn.cleanup_raw.html" title='signal_hook::cleanup::cleanup_raw fn'>cleanup_raw</a></td><td class='docblock-short'><p>Resets the signal handler to the default one.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.cleanup_signal.html" title='signal_hook::cleanup::cleanup_signal fn'>cleanup_signal</a></td><td class='docblock-short'><p>Resets the signal handler to the default one and removes all its hooks.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.register.html" title='signal_hook::cleanup::register fn'>register</a></td><td class='docblock-short'><p>Register a cleanup after receiving a signal.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.unregister_signal.html" title='signal_hook::cleanup::unregister_signal fn'>unregister_signal</a></td><td class='docblock-short'><p>Removes all previously installed actions for a given signal.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "signal_hook";</script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>